# MILLION

This code is answer to an interview question I was asked at some product based company in the past.

## Question
You have 2 million paths in a file. You have to process all these paths in the most optimized way
using all the available resources on your machine. There are certain constraints to the question which are as follows
- Read a path from the file
- Fire the GET request
- If you receive a 200 OK response and the body contains certain string mark it as success
- If not, mark it as failure
- You have only one server to execute this code (no over engineering required like message queues etc)
- Code should use the server resources in the best possible way
- The code should run as fast as possible

## Solution
- The question was asked to judge one's knowledge about Goroutines, buffered channels and buffered writers
- This code generates a file with the desired number of paths. Paths are repeatable
- Code creates a pool of goroutines based on the number of processors available on the server
- Creates a buffered channel to process the output
- There is another function which has two buffered channels (one for output , another one for handling errors)
- The time taken by the code completely depends on the server capabilities (like number of cores)
  - The more the cores , more goroutines are parallely executed hence more paths get processed quickly

### Running the code
`go run main.go`

### NOTE
This code uses apple.com as an example and the paths present in the defaults.go were generated by ChatGPT.